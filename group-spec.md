# 高速道路グループの仕様
## 目的
- 高速道路のグループを一括で指定できるようにする
- 近くの高速道路が近くに配置されることで探しやすくする

## グループの種類
高速道路グループは2種類を設定する。全ての高速道路はこのどちらかに所属する。

### 都市高速グループ
首都高や阪神高速などのグループ。こちらは原則名前によってグループを設定する。

### 一般高速グループ
都市高速に含まれなかったものは全てこのグループに所属する。後述する中心となる高速道路（中心高速道路）を設定し、路線毎にどの中心高速道路が最も近いか計算し、最も近い中心高速道路のグループに所属する。路線同士の距離の測定方法は後述する。

## 路線同士の距離の測定方法
理想的には中心高速道路に接続している高速道路は距離を0とし、この高速道路に属して欲しいというものである。離れている場合は御互いの路線で最も近い点間の距離で、一番小さい中心高速道路のグループに所属する、としたい。一方で愚直に実装するとコストが嵩むと思われるので以下の手法を用いる。まずグループが定まっていない高速道路と中心高速道路全てに対して、その高速道路内で東京駅座標（中心座標）から最も近い点と最も遠い点を計算する。次にそれぞれの高速道路のその2点を線分とし、2つの高速道路の距離は、この2つの線分間の距離とする。交差する場合は距離は0とする。

なお、複数の中央高速道路と距離が同じになった場合は、リストの上位を適用する。

## 都市高速のリスト
- 首都高速
- 名古屋高速
- 阪神高速
- 広島高速
- 北九州高速
- 福岡高速

## 中心高速道路のリスト
後ろはグループ名

- 東名高速道路 - 東名
- 名神高速道路 - 名神
- 中国自動車道 - 中国
- 高松自動車道 - 四国
- 九州自動車道 - 九州
- 京葉道路 - 千葉
- 北陸自動車道 - 北陸
- 関越自動車道 - 関越
- 東北自動車道 - 東北
- 道央自動車道 - 北海道

## グループindex
グループ情報を記載したgroup.jsonをhighways/group.jsonとして生成する。含める必要のあるデータは以下。

- 名前(主キーとしても用いる)
- 都市高速グループ or 一般高速グループ
- 順序番号(idではない、後述)

## グループ順序番号
グループの並び換えを制御するための番号で、IDではないので、生成毎に異なってもよい。常に上が下より小さい番号に並べるようにする。

- 首都高速
- 東名
- 名古屋高速
- 名神
- 阪神高速
- 中国
- 広島高速
- 四国
- 九州
- 北九州高速
- 福岡高速
- 千葉
- 北陸
- 関越
- 東北
- 北海道

## index.json
各路線に所属グループの名前を記載する。nullは許容されない。
